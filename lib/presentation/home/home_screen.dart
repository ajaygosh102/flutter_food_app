import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'package:flutter_food_app/config/theme.dart';import 'package:flutter_food_app/data/global_data.dart';import 'package:flutter_food_app/presentation/widgets/circle_progressbar.dart';import 'bloc/home_bloc_cubit.dart';import 'navigation_drawer.dart';class HomeScreen extends StatefulWidget {  @override  _HomeScreenState createState() => _HomeScreenState();}class _HomeScreenState extends State<HomeScreen>    with SingleTickerProviderStateMixin {  HomeBlocCubit homeBlocCubit = HomeBlocCubit();  int pageCount = 1;  TabController tabController;  @override  void initState() {    homeBlocCubit.getFoodMenu();    super.initState();  }  @override  Widget build(BuildContext context) {    return Scaffold(      backgroundColor: Colors.white,      appBar: AppBar(        title: Text(          '',          //'Food App',          style: Theme.of(context).textTheme.subtitle1,        ),        actions: [],      ),      drawer: buildDrawer(context),      body: BlocBuilder(        cubit: homeBlocCubit,        builder: (context, state) {          print('State--------------');          print(state);          if (state is HomeDataResponse) {            tabController = TabController(                vsync: this,                length: GlobalData.homeDataModel?.tableMenuList?.length ?? 0);            return Column(              children: [                TabBar(                    controller: tabController,                    isScrollable: true,                    tabs: List.generate(                      GlobalData.homeDataModel.tableMenuList.length,                      (index) => Tab(                        icon: Icon(Icons.cloud_outlined),                        child: Text(GlobalData                            .homeDataModel.tableMenuList[index].menuCategory),                      ),                    )),                Expanded(                  child: TabBarView(                    controller: tabController,                    children: List.generate(                      GlobalData.homeDataModel.tableMenuList.length,                      (index) => Text('data'),                    ),                  ),                ),              ],            );          } else if (state is Loading) {            return showCircleProgress();          } else {            return Text(AppStrings.errorMsg);          }        },      ),    );  }}