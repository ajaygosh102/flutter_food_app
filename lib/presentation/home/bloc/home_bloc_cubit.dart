import 'dart:convert';import 'package:bloc/bloc.dart';import 'package:equatable/equatable.dart';import 'package:flutter_food_app/data/global_data.dart';import 'package:flutter_food_app/data/home_data_model.dart';import 'package:flutter_food_app/domain/api_services.dart';import 'package:flutter_food_app/presentation/widgets/toast.dart';part 'home_bloc_state.dart';class HomeBlocCubit extends Cubit<HomeBlocState> {  HomeBlocCubit() : super(HomeBlocInitial());  ///menu list  getFoodMenu({Map<String, String> params}) async {    try {      emit(Loading());      var res = await ApiServices().getMenuList(params: params);      print('res----');      var a = json.decode(res.body);      print(a[0]);      var b = homeDataModelFromMap(a[0]);      // GlobalData.homeDataModel=res.data;      // var b =homeDataModelFromMap(res.data);      print('b------');      //  print(b);      //  GlobalData.homeDataModel = b[0];      /*if (GlobalData?.homeDataModel?.data == null) {        GlobalData.homeDataModel = homeDataModel;      } else {        GlobalData.homeDataModel.totalPages = homeDataModel.totalPages;        homeDataModel.data.forEach((element) {          GlobalData.homeDataModel.data.add(element);        });      }*/      emit(HomeDataResponse(GlobalData.homeDataModel));    } catch (e) {      showToast(msg: 'error');      emit(DataError(e));    }  }}